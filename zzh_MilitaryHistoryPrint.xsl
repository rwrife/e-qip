<?xml version="1.0" encoding="utf-8" standalone="no"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:strip-space elements="*"/><xsl:variable name="MilitaryTypes" select="document('MilitaryTypesTable.xml')"/><xsl:variable name="MilitaryBranchs" select="document('MilitaryBranchsTable.xml')"/><xsl:variable name="MilitaryStatuses" select="document('MilitaryStatusTable.xml')"/><xsl:variable name="MilitaryHistoryQuestions" select="document('MilitaryHistoryQuestionTable.xml')"/><xsl:template name="MilitaryHistoryPrint"><xsl:param name="TitleType" select="'Field'"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="IdPrefix"/><xsl:param name="MilitaryHistory"/><xsl:param name="RootIdPrefix" select="'Section_'"/><xsl:param name="ShowSectionHeader" select="'Y'"/><xsl:param name="ShowSectionAttribValues" select="'N'"/><xsl:param name="ShowSubsectionIds" select="'N'"/><xsl:param name="TitleDelimiter" select="':'"/><xsl:variable name="HeaderDelimiter"><xsl:if test="normalize-space(concat($TitlePrefixPhrase,$BaseTitlePhrase))"><xsl:value-of select="$TitleDelimiter"/></xsl:if></xsl:variable><div class="MaxWidth DataContent RptDetail"><xsl:variable name="OutStdContainerValues"><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LeafContainerId" select="concat($RootIdPrefix,'Header')"/><xsl:with-param name="LeafContainerHeader" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,$HeaderDelimiter))"/><xsl:with-param name="ShowContainerHeader" select="$ShowSectionHeader"/><xsl:with-param name="TitleType" select="$TitleType"/><xsl:with-param name="LeafContainerTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="ShowAttribValues" select="$ShowSectionAttribValues"/><xsl:with-param name="AttribTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="LeafContainerElement" select="$MilitaryHistory"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutStdContainerValues))"><xsl:copy-of select="$OutStdContainerValues"/><xsl:value-of select="' '"/></xsl:if></div><xsl:text/><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'A.'"/><xsl:with-param name="ShowSubsectionId" select="'N'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(0)"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="SubsectionHeader" select="'Questions'"/><xsl:with-param name="ContainerElement" select="$MilitaryHistory"/><xsl:with-param name="MustShowWrapperNFlag" select="number(boolean('true'))"/><xsl:with-param name="WrapperDataContent"><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><xsl:variable name="QuestionEntryTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,' Question'))"/><xsl:variable name="MilitaryHistoryQuestionsLookUpPath" select="$MilitaryHistoryQuestions/MilitaryHistoryQuestions/Question"/><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="QuestionTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="QuestionEntryTagName" select="'ServedInUSMilitary'"/><xsl:with-param name="QuestionEntryLookUpValue" select="$MilitaryHistoryQuestionsLookUpPath[@Code='ServedInUSMilitary']"/><xsl:with-param name="QuestionEntryTitle" select="$QuestionEntryTitle"/><xsl:with-param name="QuestionDataElement" select="$MilitaryHistory/ServedInUSMilitary"/><xsl:with-param name="QuestionId" select="'a'"/><xsl:with-param name="AllowComment" select="'Y'"/><xsl:with-param name="ShowQuestionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(0)"/></xsl:call-template><xsl:call-template name="QuestionTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="QuestionEntryTagName" select="'ServedInUSMerchantMarines'"/><xsl:with-param name="QuestionEntryLookUpValue" select="$MilitaryHistoryQuestionsLookUpPath[@Code='ServedInUSMerchantMarines']"/><xsl:with-param name="QuestionEntryTitle" select="$QuestionEntryTitle"/><xsl:with-param name="QuestionDataElement" select="$MilitaryHistory/ServedInUSMerchantMarines"/><xsl:with-param name="QuestionId" select="'b'"/><xsl:with-param name="AllowComment" select="'Y'"/><xsl:with-param name="ShowQuestionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(boolean('true'))"/></xsl:call-template><xsl:call-template name="QuestionTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="QuestionEntryTagName" select="'ServedInNonUSMilitary'"/><xsl:with-param name="QuestionEntryLookUpValue" select="$MilitaryHistoryQuestionsLookUpPath[@Code='ServedInNonUSMilitary']"/><xsl:with-param name="QuestionEntryTitle" select="$QuestionEntryTitle"/><xsl:with-param name="QuestionDataElement" select="$MilitaryHistory/ServedInNonUSMilitary"/><xsl:with-param name="QuestionId" select="'c'"/><xsl:with-param name="AllowComment" select="'N'"/><xsl:with-param name="ShowQuestionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(boolean('true'))"/></xsl:call-template></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:variable name="MilitaryService" select="$MilitaryHistory/MilitaryService"/><xsl:if test="count($MilitaryService/Service) or $MilitaryHistory/ServedInUSMilitary/Answer='Yes'"><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'B.'"/><xsl:with-param name="ShowSubsectionId" select="'N'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'B_')"/><xsl:with-param name="SubsectionHeader" select="'Military Service'"/><xsl:with-param name="ContainerElement" select="$MilitaryService"/><xsl:with-param name="WrapperDataContent"><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><xsl:if test="count($MilitaryService/Service/@Type)              or normalize-space($MilitaryService)             or not(($MilitaryService/@DoNotKnow='True') or ($MilitaryService/@NotApplicable='True'))"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:for-each select="$MilitaryService/Service"><xsl:call-template name="MilitaryServiceEntryPrint"><xsl:with-param name="SubsectionId" select="position()"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'B_',position(),'_')"/><xsl:with-param name="Service" select="."/><xsl:with-param name="ShowSeperator" select="number(position()!=1)"/><xsl:with-param name="TitlePrefixPhrase" select="$TitlePrefixPhrase"/><xsl:with-param name="BaseTitlePhrase" select="$BaseTitlePhrase"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionIds"/></xsl:call-template></xsl:for-each></tbody></table><xsl:text/></xsl:if></xsl:with-param></xsl:call-template><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></xsl:if></tbody></table></xsl:template><xsl:template name="MilitaryServiceEntryPrint"><xsl:param name="SubsectionId"/><xsl:param name="IdPrefix"/><xsl:param name="Service"/><xsl:param name="ShowSeperator"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="ShowSubsectionId"/><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="concat(substring('   ',1,4 - (2 * string-length($SubsectionId))),'#',$SubsectionId)"/><xsl:with-param name="ShowSubsectionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="$ShowSeperator"/><xsl:with-param name="SubsectionFormatClassList"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'a.'"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionId"/><xsl:with-param name="ShowSeperatorNFlag" select="number(false())"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="ServiceInfoPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'a','_')"/><xsl:with-param name="Service" select="$Service"/><xsl:with-param name="SubsectionTitle" select="concat($TitlePrefixPhrase,' ',$BaseTitlePhrase, ' Service')"/></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template></xsl:template><xsl:template name="ServiceInfoPrint"><xsl:param name="IdPrefix"/><xsl:param name="Service"/><xsl:param name="SubsectionTitle"/><xsl:call-template name="TabularTimeFramePrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FromDate" select="$Service/FromDate/Date"/><xsl:with-param name="ToDate" select="$Service/ToDate/Date"/><xsl:with-param name="Precision" select="'month'"/></xsl:call-template><xsl:text/><xsl:call-template name="CodeLookUpTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Service_Type_')"/><xsl:with-param name="TitlePrefixPhrase" select="'Service'"/><xsl:with-param name="BaseTitlePhrase" select="'Type'"/><xsl:with-param name="LookUpTable" select="$MilitaryTypes"/><xsl:with-param name="CodeValue2LookUp" select="$Service/@Type"/></xsl:call-template><xsl:text/><xsl:if test="not(count($Service/@Type)) or ($Service/@Type='US') or (count($Service/Branch) and ($Service/Branch!='Foreign'))"><xsl:call-template name="CodeLookUpTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Service_Branch_')"/><xsl:with-param name="TitlePrefixPhrase" select="''"/><xsl:with-param name="BaseTitlePhrase" select="'Branch'"/><xsl:with-param name="LookUpTable" select="$MilitaryBranchs"/><xsl:with-param name="CodeValue2LookUp" select="$Service/Branch"/></xsl:call-template><xsl:text/></xsl:if><xsl:if test="not(count($Service/@Type)) or ($Service/@Type='US') or count($Service/Status)"><xsl:call-template name="CodeLookUpTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Service_Status_')"/><xsl:with-param name="TitlePrefixPhrase" select="''"/><xsl:with-param name="BaseTitlePhrase" select="'Status'"/><xsl:with-param name="LookUpTable" select="$MilitaryStatuses"/><xsl:with-param name="CodeValue2LookUp" select="$Service/Status"/></xsl:call-template><xsl:text/></xsl:if><xsl:if test="not(count($Service/@Type)) or ($Service/@Type='US') or count($Service/ServiceNumber)"><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'Service/Certificate Number'"/><xsl:with-param name="FieldNameTitle" select="'Service/Certificate Number'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Service_Number_')"/><xsl:with-param name="FieldElement" select="$Service/ServiceNumber"/></xsl:call-template><xsl:text/></xsl:if><xsl:if test="not(count($Service/@Type)) or ($Service/@Type='US') or count($Service/Rank)"><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'Rank'"/><xsl:with-param name="FieldNameTitle" select="'Rank'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Rank_')"/><xsl:with-param name="FieldElement" select="$Service/Rank"/></xsl:call-template><xsl:text/></xsl:if><xsl:if test="not(count($Service/@Type)) or ($Service/@Type='US') or count($Service/State)"><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'State'"/><xsl:with-param name="FieldNameTitle" select="'State'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'State_')"/><xsl:with-param name="FieldElement" select="$Service/State"/></xsl:call-template><xsl:text/></xsl:if><xsl:if test="not(count($Service/@Type)) or ($Service/@Type='Foreign') or count($Service/Country)"><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'Country'"/><xsl:with-param name="FieldNameTitle" select="'Country'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Country_')"/><xsl:with-param name="FieldElement" select="$Service/Country"/></xsl:call-template><xsl:text/></xsl:if><xsl:call-template name="TabularCommentsPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="Comment" select="$Service/Comment"/><xsl:with-param name="TitlePrefixPhrase" select="''"/><xsl:with-param name="BaseTitlePhrase" select="'Additional Comments'"/></xsl:call-template><xsl:text/></xsl:template></xsl:stylesheet>