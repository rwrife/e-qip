<?xml version="1.0" encoding="utf-8" standalone="no"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:strip-space elements="*"/><xsl:variable name="States" select="document('StatesTable.xml')"/><xsl:template name="PlacePrint"><xsl:param name="TitleType" select="'Field'"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="IdPrefix"/><xsl:param name="Place"/><xsl:param name="RootIdPrefix" select="'Place_'"/><xsl:param name="AllowCounty" select="'Y'"/><xsl:param name="Court"/><xsl:param name="TitleDelimiter" select="':'"/><xsl:param name="ShowSectionHeader" select="'Y'"/><xsl:param name="ShowContainerAttribValues" select="'Y'"/><xsl:variable name="HeaderDelimiter"><xsl:if test="normalize-space(concat($TitlePrefixPhrase,$BaseTitlePhrase))"><xsl:value-of select="$TitleDelimiter"/></xsl:if></xsl:variable><xsl:variable name="OutStdContainerValues"><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LeafContainerId" select="concat($RootIdPrefix,'Header')"/><xsl:with-param name="LeafContainerHeader" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,$HeaderDelimiter))"/><xsl:with-param name="ShowContainerHeader" select="$ShowSectionHeader"/><xsl:with-param name="TitleType" select="$TitleType"/><xsl:with-param name="LeafContainerTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="AttribTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="ShowAttribValues" select="$ShowContainerAttribValues"/><xsl:with-param name="LeafContainerElement" select="$Place"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutStdContainerValues))"><xsl:copy-of select="$OutStdContainerValues"/><xsl:value-of select="' '"/></xsl:if><span class="RptDetail"><xsl:variable name="OutCourtValues"><xsl:if test="$Court"><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'Day')"/><xsl:with-param name="FieldNameTitle" select="'Day'"/><xsl:with-param name="FieldElement" select="$Court"/></xsl:call-template></xsl:if></xsl:variable><xsl:if test="string-length(normalize-space($OutCourtValues))"><xsl:copy-of select="$OutCourtValues"/><xsl:text> </xsl:text></xsl:if><xsl:variable name="OutCityValues"><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'City')"/><xsl:with-param name="FieldNameTitle" select="'City'"/><xsl:with-param name="FieldElement" select="$Place/City"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutCityValues))"><xsl:copy-of select="$OutCityValues"/><xsl:text>, </xsl:text></xsl:if><xsl:if test="$AllowCounty='Y'"><xsl:variable name="OutCountyValues"><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'County')"/><xsl:with-param name="FieldNameTitle" select="'Year'"/><xsl:with-param name="FieldElement" select="$Place/County"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutCountyValues))"><xsl:copy-of select="$OutCountyValues"/><xsl:text>, </xsl:text></xsl:if></xsl:if><xsl:variable name="OutStateValues"><xsl:variable name="SpecificState" select="$States/States/State[@Code=$Place/State]"/><xsl:choose><xsl:when test="string-length(normalize-space($SpecificState))"><span><xsl:attribute name="id"><xsl:value-of select="concat($IdPrefix,$RootIdPrefix,'State')"/></xsl:attribute><xsl:attribute name="title"><xsl:value-of select="'State'"/></xsl:attribute><xsl:value-of select="normalize-space($SpecificState)"/></span></xsl:when><xsl:otherwise><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'State')"/><xsl:with-param name="FieldNameTitle" select="'State'"/><xsl:with-param name="FieldElement" select="$Place/State"/><xsl:with-param name="ShowAsUnexpectedValue" select="'Y'"/><xsl:with-param name="ShowAttribValues" select="'N'"/></xsl:call-template></xsl:otherwise></xsl:choose><xsl:if test="normalize-space($Place/State)"><xsl:value-of select="' ('"/><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'State_Content')"/><xsl:with-param name="FieldNameTitle" select="'State'"/><xsl:with-param name="FieldElement" select="$Place/State"/><xsl:with-param name="ShowAttribValues" select="'N'"/><xsl:with-param name="ShowContentValue" select="'Y'"/></xsl:call-template><xsl:value-of select="') '"/></xsl:if><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'State_Attrib')"/><xsl:with-param name="FieldNameTitle" select="'State'"/><xsl:with-param name="FieldElement" select="$Place/State"/><xsl:with-param name="ShowContentValue" select="'N'"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutStateValues))"><xsl:copy-of select="$OutStateValues"/><xsl:text> </xsl:text></xsl:if><xsl:variable name="OutCountryValues"><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'Country')"/><xsl:with-param name="FieldNameTitle" select="'Country'"/><xsl:with-param name="FieldElement" select="$Place/Country"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutCountryValues))"><xsl:copy-of select="$OutCountryValues"/><xsl:text> </xsl:text></xsl:if><xsl:variable name="OutPostalCodeValues"><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'PostalCode')"/><xsl:with-param name="FieldNameTitle" select="'Postal Code'"/><xsl:with-param name="FieldElement" select="$Place/PostalCode"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutPostalCodeValues))"><xsl:copy-of select="$OutPostalCodeValues"/><xsl:text> </xsl:text></xsl:if></span></xsl:template><xsl:template name="TabularPlacePrint"><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="IdPrefix"/><xsl:param name="Place"/><xsl:param name="TitleDelimiter" select="':'"/><xsl:param name="AllowCounty" select="'N'"/><xsl:param name="ShowContainerAttribValues" select="'Y'"/><tr><td class="VertTop TabularDataContent TabularTitle TextRight"><span class="FieldContent FieldTitle SubsectionTitle NoWrap"><span><xsl:attribute name="title"><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/></xsl:attribute><xsl:if test="normalize-space(concat($TitlePrefixPhrase,$BaseTitlePhrase))"><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,$TitleDelimiter))"/></xsl:if></span></span></td><xsl:text/><td class="MaxWidth VertTop"><xsl:variable name="PlacePrintContent"><xsl:call-template name="PlacePrint"><xsl:with-param name="TitlePrefixPhrase" select="$TitlePrefixPhrase"/><xsl:with-param name="BaseTitlePhrase" select="concat($BaseTitlePhrase,' Location')"/><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="Place" select="$Place"/><xsl:with-param name="ShowSectionHeader" select="'N'"/><xsl:with-param name="AllowCounty" select="'N'"/><xsl:with-param name="ShowContainerAttribValues" select="$ShowContainerAttribValues"/></xsl:call-template></xsl:variable><xsl:if test="normalize-space($PlacePrintContent)"><div class="MaxWidth DataContent RptDetail"><xsl:copy-of select="$PlacePrintContent"/></div></xsl:if></td></tr><xsl:text/><xsl:if test="$AllowCounty='Y'"><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="TitleType" select="'Field'"/><xsl:with-param name="FieldNameHeader" select="concat('County')"/><xsl:with-param name="FieldNameTitle" select="concat('County')"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'County_')"/><xsl:with-param name="FieldElement" select="$Place/County"/></xsl:call-template><xsl:text/></xsl:if></xsl:template></xsl:stylesheet>