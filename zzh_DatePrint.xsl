<?xml version="1.0" encoding="utf-8" standalone="no"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:variable name="Months" select="document('MonthsTable.xml')"/><xsl:template name="DatePrint"><xsl:param name="TitleType" select="'Field'"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="IdPrefix"/><xsl:param name="Date"/><xsl:param name="RootIdPrefix" select="'Date_'"/><xsl:param name="Precision" select="'day'"/><xsl:param name="Mode" select="'mmddyyyy'"/><xsl:param name="TitleDelimiter" select="':'"/><xsl:param name="ShowSectionHeader" select="'Y'"/><xsl:param name="ShowEmptyElement" select="'N'"/><xsl:variable name="HeaderDelimiter"><xsl:if test="normalize-space(concat($TitlePrefixPhrase,$BaseTitlePhrase))"><xsl:value-of select="$TitleDelimiter"/></xsl:if></xsl:variable><xsl:variable name="OutStdContainerValues"><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LeafContainerId" select="concat($RootIdPrefix,'Header')"/><xsl:with-param name="LeafContainerHeader" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,$HeaderDelimiter))"/><xsl:with-param name="ShowContainerHeader" select="$ShowSectionHeader"/><xsl:with-param name="TitleType" select="$TitleType"/><xsl:with-param name="LeafContainerTitle"><xsl:choose><xsl:when test="$Precision = 'day'"><xsl:value-of select="'Month Day, Year'"/></xsl:when><xsl:when test="$Precision = 'month'"><xsl:value-of select="'Month Year'"/></xsl:when><xsl:when test="$Precision = 'year'"><xsl:value-of select="'Year'"/></xsl:when><xsl:otherwise><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/></xsl:otherwise></xsl:choose></xsl:with-param><xsl:with-param name="AttribTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="LeafContainerElement" select="$Date"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutStdContainerValues))"><xsl:copy-of select="$OutStdContainerValues"/><xsl:value-of select="' '"/></xsl:if><span class="RptDetail"><xsl:variable name="OutNonStdContainerValues"><xsl:if test="$Date[@Type='Present']"><xsl:text>« </xsl:text><span class="ContentStatus FieldContent"><xsl:attribute name="id"><xsl:value-of select="concat($IdPrefix, $RootIdPrefix,'Present')"/></xsl:attribute><xsl:attribute name="title"><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/></xsl:attribute><xsl:value-of select="'Present'"/></span><xsl:text> » </xsl:text></xsl:if></xsl:variable><xsl:if test="string-length(normalize-space($OutNonStdContainerValues))"><xsl:copy-of select="$OutNonStdContainerValues"/></xsl:if><xsl:if test="$ShowEmptyElement='Y' or normalize-space($Date)"><xsl:variable name="IsContainerQualified" select="number($Date[@DoNotKnow='True'] or $Date[@NotApplicable='True'] or $Date[@Type='Present'])"/><xsl:if test="$Precision!='year'"><xsl:variable name="OutMonthValues"><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'Month')"/><xsl:with-param name="FieldNameTitle" select="'Month'"/><xsl:with-param name="FieldElement" select="$Date/Month"/></xsl:call-template></xsl:variable><xsl:choose><xsl:when test="string-length(normalize-space($OutMonthValues))"><xsl:value-of select="' '"/><xsl:choose><xsl:when test="$Mode='mmddyyyy'"><xsl:copy-of select="$OutMonthValues"/><xsl:if test="not($IsContainerQualified)"><xsl:value-of select="' / '"/></xsl:if></xsl:when><xsl:otherwise><xsl:variable name="SpecificMonth" select="$Months/Months/Month[@Code=$Date/Month]"/><xsl:choose><xsl:when test="string-length(normalize-space($SpecificMonth))"><span><xsl:attribute name="id"><xsl:value-of select="concat($RootIdPrefix,'Month')"/></xsl:attribute><xsl:attribute name="title"><xsl:value-of select="'Month'"/></xsl:attribute><xsl:value-of select="normalize-space($SpecificMonth/@Name)"/></span></xsl:when><xsl:otherwise><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'Month')"/><xsl:with-param name="FieldNameTitle" select="'Month'"/><xsl:with-param name="FieldElement" select="$Date/Month"/><xsl:with-param name="TitlePrefixPhrase" select="$TitlePrefixPhrase"/><xsl:with-param name="BaseTitlePhrase" select="$BaseTitlePhrase"/><xsl:with-param name="ShowAsUnexpectedValue" select="'Y'"/></xsl:call-template></xsl:otherwise></xsl:choose><xsl:text> </xsl:text></xsl:otherwise></xsl:choose></xsl:when><xsl:when test="$Mode='mmddyyyy'"><xsl:value-of select="' '"/><xsl:if test="not($IsContainerQualified)"><span title="Month"><xsl:value-of select="'??'"/></span><xsl:value-of select="' / '"/></xsl:if></xsl:when><xsl:otherwise><xsl:value-of select="' '"/><xsl:if test="not($IsContainerQualified)"><span title="Month">???</span></xsl:if></xsl:otherwise></xsl:choose><xsl:if test="$Precision='day'"><xsl:variable name="OutDayValues"><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'Day')"/><xsl:with-param name="FieldNameTitle" select="'Day'"/><xsl:with-param name="FieldElement" select="$Date/Day"/></xsl:call-template></xsl:variable><xsl:choose><xsl:when test="string-length(normalize-space($OutDayValues))"><xsl:copy-of select="$OutDayValues"/><xsl:if test="not($IsContainerQualified)"><xsl:choose><xsl:when test="$Mode='mmddyyyy'"><xsl:value-of select="' / '"/></xsl:when><xsl:otherwise><xsl:text>,</xsl:text></xsl:otherwise></xsl:choose></xsl:if></xsl:when><xsl:when test="$Mode='mmddyyyy'"><xsl:value-of select="' '"/><xsl:if test="not($IsContainerQualified)"><span title="Day"><xsl:value-of select="'??'"/></span><xsl:value-of select="' / '"/></xsl:if></xsl:when><xsl:otherwise><xsl:value-of select="' '"/><xsl:if test="not($IsContainerQualified)"><span title="Day">??</span><xsl:text>,</xsl:text></xsl:if></xsl:otherwise></xsl:choose></xsl:if></xsl:if><xsl:variable name="OutYearValues"><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($RootIdPrefix,'Year')"/><xsl:with-param name="FieldNameTitle" select="'Year'"/><xsl:with-param name="FieldElement" select="$Date/Year"/></xsl:call-template></xsl:variable><xsl:value-of select="' '"/><xsl:choose><xsl:when test="string-length(normalize-space($OutYearValues))"><xsl:copy-of select="$OutYearValues"/></xsl:when><xsl:when test="$Mode='mmddyyyy'"><xsl:if test="not($IsContainerQualified)"><span title="Year"><xsl:value-of select="'????'"/></span></xsl:if></xsl:when><xsl:otherwise><xsl:if test="not($IsContainerQualified)"><span title="Year"><xsl:value-of select="'????'"/></span></xsl:if></xsl:otherwise></xsl:choose><xsl:value-of select="' '"/><xsl:if test="$Date[@Type='Estimated']"><xsl:text>« </xsl:text><span class="ContentStatus FieldContent"><xsl:attribute name="id"><xsl:value-of select="concat($IdPrefix, $RootIdPrefix,'Estimated')"/></xsl:attribute><xsl:attribute name="title"><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/></xsl:attribute><xsl:value-of select="'Est.'"/></span><xsl:text> »</xsl:text></xsl:if><xsl:if test="$Date[normalize-space(@Type)!=''] and $Date[@Type!='Present'] and $Date[@Type!='Estimated']"><xsl:text>« </xsl:text><span class="ContentStatus FieldContent"><xsl:attribute name="id"><xsl:value-of select="concat($IdPrefix, $RootIdPrefix,'Unexpected')"/></xsl:attribute><xsl:attribute name="title"><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/></xsl:attribute><xsl:value-of select="normalize-space($Date/@Type)"/></span><xsl:text> »</xsl:text></xsl:if></xsl:if></span></xsl:template><xsl:template name="TabularTimeFramePrint"><xsl:param name="IdPrefix"/><xsl:param name="FromDate"/><xsl:param name="ToDate"/><xsl:param name="Precision" select="'month'"/><tr><td class="VertTop TabularTitle TextRight"><span class="FieldContent FieldTitle SubsectionTitle NoWrap"><span title="Time Frame"><xsl:value-of select="'Time Frame:'"/></span></span></td><td class="MaxWidth VertTop"><div class="MaxWidth DataContent RptDetail"><xsl:choose><xsl:when test="normalize-space(concat($FromDate,$ToDate)) or $FromDate/@Type='Present' or $ToDate/@Type='Present'"><xsl:call-template name="DatePrint"><xsl:with-param name="BaseTitlePhrase" select="'From Date'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'FromDate','_')"/><xsl:with-param name="Date" select="$FromDate"/><xsl:with-param name="Precision" select="$Precision"/><xsl:with-param name="ShowSectionHeader" select="'N'"/><xsl:with-param name="ShowEmptyElement" select="'Y'"/></xsl:call-template><xsl:value-of select="' '"/><xsl:text/><span class="SeparatorText VertTop NoWrap">To</span><xsl:text/><xsl:value-of select="' '"/><xsl:call-template name="DatePrint"><xsl:with-param name="BaseTitlePhrase" select="'To Date'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'ToDate','_')"/><xsl:with-param name="Date" select="$ToDate"/><xsl:with-param name="Precision" select="$Precision"/><xsl:with-param name="ShowSectionHeader" select="'N'"/><xsl:with-param name="ShowEmptyElement" select="'Y'"/></xsl:call-template></xsl:when><xsl:otherwise> </xsl:otherwise></xsl:choose></div></td></tr></xsl:template><xsl:template name="TabularDatePrint"><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="IdPrefix"/><xsl:param name="Date"/><xsl:param name="Precision" select="'day'"/><xsl:param name="TitleDelimiter" select="':'"/><tr><td class="VertTop TabularDataContent TabularTitle TextRight"><span class="FieldContent FieldTitle SubsectionTitle NoWrap"><span><xsl:attribute name="title"><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/></xsl:attribute><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,$TitleDelimiter))"/></span></span></td><xsl:text/><td class="MaxWidth VertTop"><div class="MaxWidth DataContent RptDetail"><xsl:call-template name="DatePrint"><xsl:with-param name="TitlePrefixPhrase" select="$TitlePrefixPhrase"/><xsl:with-param name="BaseTitlePhrase" select="$BaseTitlePhrase"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Date_Issued_')"/><xsl:with-param name="Date" select="$Date"/><xsl:with-param name="Precision" select="$Precision"/><xsl:with-param name="ShowSectionHeader" select="'N'"/></xsl:call-template></div></td></tr></xsl:template></xsl:stylesheet>