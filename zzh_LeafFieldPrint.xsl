<?xml version="1.0" encoding="utf-8" standalone="no"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:template name="LeafFieldPrint"><xsl:param name="IdPrefix"/><xsl:param name="FieldNameId"/><xsl:param name="FieldNameTitle"/><xsl:param name="FieldElement"/><xsl:param name="ShowContentValue" select="'Y'"/><xsl:param name="ShowAttribValues" select="'Y'"/><xsl:param name="ShowAsUnexpectedValue" select="'N'"/><xsl:param name="ShowIfMissingValue" select="'N'"/><xsl:param name="AttribValuesPreceedContent" select="'N'"/><xsl:variable name="OutElementContent" select="number((string-length(normalize-space($FieldElement)) and $ShowContentValue='Y')         or ($ShowContentValue='Y' and $ShowIfMissingValue = 'Y'))"/><xsl:variable name="OutTypeAttrib" select="number(string-length(normalize-space($FieldElement/@Type)) and $ShowAttribValues='Y')"/><xsl:variable name="HasDNKValue"><xsl:choose><xsl:when test="$FieldElement"><xsl:value-of select="number($FieldElement[@DoNotKnow='True'] and $ShowAttribValues='Y')"/></xsl:when><xsl:otherwise><xsl:value-of select="number(false())"/></xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="HasNAValue"><xsl:choose><xsl:when test="$FieldElement"><xsl:value-of select="number($FieldElement[@NotApplicable='True'] and $ShowAttribValues='Y')"/></xsl:when><xsl:otherwise><xsl:value-of select="number(false())"/></xsl:otherwise></xsl:choose></xsl:variable><xsl:variable name="HasStatusAttribValues"><xsl:value-of select="number(number($HasDNKValue) or number($HasNAValue))"/></xsl:variable><xsl:if test="number($OutElementContent) or number($OutTypeAttrib) or number($HasStatusAttribValues)"><span><xsl:attribute name="title"><xsl:value-of select="$FieldNameTitle"/></xsl:attribute><xsl:if test="$AttribValuesPreceedContent='Y' and $ShowAttribValues='Y'"><xsl:variable name="OutStdAttribs"><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LeafContainerId" select="concat($FieldNameId,'_Status')"/><xsl:with-param name="LeafContainerElement" select="$FieldElement"/><xsl:with-param name="AttribTitle" select="$FieldNameTitle"/><xsl:with-param name="ShowContainerHeader" select="'N'"/><xsl:with-param name="ShowAttribValues" select="'Y'"/></xsl:call-template></xsl:variable><xsl:if test="normalize-space($OutStdAttribs)"><xsl:copy-of select="$OutStdAttribs"/><xsl:value-of select="' '"/></xsl:if></xsl:if><xsl:choose><xsl:when test="string-length(normalize-space($FieldElement)) and $ShowContentValue='Y'"><xsl:choose><xsl:when test="$ShowAsUnexpectedValue = 'Y'"><span class="FieldContent UnexpectedContent"><xsl:attribute name="id"><xsl:value-of select="concat($IdPrefix,$FieldNameId)"/></xsl:attribute><xsl:value-of select="concat('? ',normalize-space($FieldElement),' ?')"/></span></xsl:when><xsl:otherwise><span><xsl:attribute name="id"><xsl:value-of select="concat($IdPrefix,$FieldNameId)"/></xsl:attribute><xsl:value-of select="normalize-space($FieldElement)"/></span></xsl:otherwise></xsl:choose></xsl:when><xsl:otherwise><xsl:choose><xsl:when test="$ShowContentValue='Y' and $ShowIfMissingValue = 'Y'"><xsl:text>« </xsl:text><span class="FieldContent MissingContent"><xsl:value-of select="concat('?',$FieldNameTitle,'?')"/></span><xsl:text> »</xsl:text></xsl:when><xsl:otherwise/></xsl:choose></xsl:otherwise></xsl:choose><xsl:if test="number($OutTypeAttrib) and (number($OutElementContent) or (number($HasStatusAttribValues) and $AttribValuesPreceedContent='Y'))"><xsl:value-of select="' '"/></xsl:if><xsl:if test="$OutTypeAttrib"><xsl:text>« </xsl:text><span class="FieldContent ContentStatus"><xsl:attribute name="id"><xsl:value-of select="concat($IdPrefix,$FieldNameId,'_Opt_Type')"/></xsl:attribute><xsl:attribute name="title"><xsl:value-of select="$FieldNameTitle"/></xsl:attribute><xsl:value-of select="normalize-space($FieldElement/@Type)"/></span><xsl:text> »</xsl:text><xsl:value-of select="' '"/></xsl:if><xsl:if test="(number($HasStatusAttribValues) and $AttribValuesPreceedContent='N') and (number($OutTypeAttrib) or number($OutElementContent))"><xsl:value-of select="' '"/></xsl:if><xsl:if test="$AttribValuesPreceedContent='N' and $ShowAttribValues='Y'"><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LeafContainerId" select="$FieldNameId"/><xsl:with-param name="LeafContainerElement" select="$FieldElement"/><xsl:with-param name="AttribTitle" select="$FieldNameTitle"/><xsl:with-param name="ShowContainerHeader" select="'N'"/><xsl:with-param name="ShowAttribValues" select="'Y'"/></xsl:call-template></xsl:if></span></xsl:if></xsl:template></xsl:stylesheet>