<?xml version="1.0" encoding="utf-8" standalone="no"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:variable name="SchoolTypes" select="document('SchoolTypesTable.xml')"/><xsl:template name="SchoolsPrint"><xsl:param name="TitleType" select="'Field'"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="IdPrefix"/><xsl:param name="Schools"/><xsl:param name="RootIdPrefix" select="'Section_'"/><xsl:param name="ShowSectionHeader" select="'Y'"/><xsl:param name="ShowSectionAttribValues" select="'N'"/><xsl:param name="ShowSubsectionIds" select="'N'"/><xsl:param name="TitleDelimiter" select="':'"/><xsl:variable name="HeaderDelimiter"><xsl:if test="normalize-space(concat($TitlePrefixPhrase,$BaseTitlePhrase))"><xsl:value-of select="$TitleDelimiter"/></xsl:if></xsl:variable><div class="MaxWidth DataContent RptDetail"><xsl:variable name="OutStdContainerValues"><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LeafContainerId" select="concat($RootIdPrefix,'Header')"/><xsl:with-param name="LeafContainerHeader" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,$HeaderDelimiter))"/><xsl:with-param name="ShowContainerHeader" select="$ShowSectionHeader"/><xsl:with-param name="TitleType" select="$TitleType"/><xsl:with-param name="LeafContainerTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="ShowAttribValues" select="$ShowSectionAttribValues"/><xsl:with-param name="AttribTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="LeafContainerElement" select="$Schools"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutStdContainerValues))"><xsl:copy-of select="$OutStdContainerValues"/><xsl:value-of select="' '"/></xsl:if></div><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:for-each select="$Schools/School"><xsl:call-template name="SchoolHeaderPrint"><xsl:with-param name="SubsectionId" select="position()"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,$RootIdPrefix,position(),'_')"/><xsl:with-param name="School" select="."/><xsl:with-param name="ShowSeperator" select="number(position()!=1)"/><xsl:with-param name="TitlePrefixPhrase" select="$TitlePrefixPhrase"/><xsl:with-param name="BaseTitlePhrase" select="$BaseTitlePhrase"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionIds"/></xsl:call-template></xsl:for-each></tbody></table></xsl:template><xsl:template name="SchoolHeaderPrint"><xsl:param name="SubsectionId"/><xsl:param name="IdPrefix"/><xsl:param name="School"/><xsl:param name="ShowSeperator"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="ShowSubsectionId"/><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="concat(substring('   ',1,4 - (2 * string-length($SubsectionId))),'#',$SubsectionId)"/><xsl:with-param name="ShowSubsectionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="$ShowSeperator"/><xsl:with-param name="SubsectionFormatClassList"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'a.'"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionId"/><xsl:with-param name="ShowSeperatorNFlag" select="number(false())"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SchoolInfoPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'a','_')"/><xsl:with-param name="School" select="$School"/><xsl:with-param name="SubsectionHeader" select="'School'"/><xsl:with-param name="SubsectionTitle" select="concat($TitlePrefixPhrase,' ',$BaseTitlePhrase, ' School')"/></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'b.'"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionId"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="DegreesAwardedPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'b','_')"/><xsl:with-param name="DegreesAwarded" select="$School/DegreesAwarded"/><xsl:with-param name="SubsectionHeader" select="'Degrees Awarded'"/><xsl:with-param name="SubsectionTitle" select="concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,' Degrees Awarded')"/><xsl:with-param name="WrapperDataContent"><xsl:for-each select="$School/DegreesAwarded/DegreeAwarded"><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="concat(substring('   ',1,4 - (2 * string-length(position()))),'#',position())"/><xsl:with-param name="ShowSubsectionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(position()!=1)"/><xsl:with-param name="WrapperDataContent"><xsl:call-template name="DegreeAwardedPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,position(),'_')"/><xsl:with-param name="DegreeAwarded" select="."/></xsl:call-template></xsl:with-param></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template><xsl:text/></xsl:for-each></xsl:with-param></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'c.'"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionId"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="ContactInfoPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'b','_')"/><xsl:with-param name="Verifier" select="$School/Verifier"/><xsl:with-param name="SubsectionHeader" select="'Contact'"/><xsl:with-param name="SubsectionTitle" select="concat($TitlePrefixPhrase,' ',$BaseTitlePhrase, ' Contact')"/></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'d.'"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionId"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="TabularCommentsPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'d','_')"/><xsl:with-param name="Comment" select="$School/Comment"/></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template></xsl:template><xsl:template name="SchoolInfoPrint"><xsl:param name="IdPrefix"/><xsl:param name="School"/><xsl:param name="SubsectionHeader"/><xsl:param name="SubsectionTitle"/><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'School_')"/><xsl:with-param name="ContainerElement" select="$School"/><xsl:with-param name="SubsectionHeader" select="$SubsectionHeader"/><xsl:with-param name="SubsectionTitle" select="$SubsectionTitle"/><xsl:with-param name="WrapperDataContent"><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="TabularTimeFramePrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FromDate" select="$School/FromDate/Date"/><xsl:with-param name="ToDate" select="$School/ToDate/Date"/><xsl:with-param name="Precision" select="'month'"/></xsl:call-template><xsl:text/><xsl:call-template name="CodeLookUpTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'School_Type_')"/><xsl:with-param name="TitlePrefixPhrase" select="'School'"/><xsl:with-param name="BaseTitlePhrase" select="'Type'"/><xsl:with-param name="LookUpTable" select="$SchoolTypes"/><xsl:with-param name="CodeValue2LookUp" select="$School/@Type"/><xsl:with-param name="CodeValueIsAnAttribute" select="'N'"/></xsl:call-template><xsl:text/><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'Name'"/><xsl:with-param name="FieldNameTitle" select="'Name'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Name_')"/><xsl:with-param name="FieldElement" select="$School/Name"/></xsl:call-template><xsl:text/><xsl:call-template name="AddressTabularPrint"><xsl:with-param name="TitlePrefixPhrase"/><xsl:with-param name="BaseTitlePhrase" select="'Address'"/><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="Address" select="$School/Address"/><xsl:with-param name="AllowDirections" select="'N'"/></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template><xsl:text/></xsl:with-param></xsl:call-template></xsl:template><xsl:template name="DegreesAwardedPrint"><xsl:param name="IdPrefix"/><xsl:param name="DegreesAwarded"/><xsl:param name="SubsectionHeader"/><xsl:param name="SubsectionTitle"/><xsl:param name="WrapperDataContent"/><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Degrees_Awarded_')"/><xsl:with-param name="ContainerElement" select="$DegreesAwarded"/><xsl:with-param name="SubsectionHeader" select="$SubsectionHeader"/><xsl:with-param name="SubsectionTitle" select="$SubsectionTitle"/><xsl:with-param name="MustShowWrapperNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><xsl:copy-of select="$WrapperDataContent"/></xsl:with-param></xsl:call-template></xsl:template><xsl:template name="DegreeAwardedPrint"><xsl:param name="IdPrefix"/><xsl:param name="DegreeAwarded"/><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="TabularDatePrint"><xsl:with-param name="BaseTitlePhrase" select="'Date Awarded'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Degree_')"/><xsl:with-param name="Date" select="$DegreeAwarded/DateAwarded/Date"/><xsl:with-param name="Precision" select="'month'"/></xsl:call-template><xsl:text/><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'Degree'"/><xsl:with-param name="FieldNameTitle" select="'Degree'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Degree_')"/><xsl:with-param name="FieldElement" select="$DegreeAwarded/Degree"/></xsl:call-template><xsl:text/></tbody></table></xsl:with-param></xsl:call-template></xsl:template></xsl:stylesheet>