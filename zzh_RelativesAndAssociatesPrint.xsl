<?xml version="1.0" encoding="utf-8" standalone="no"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"><xsl:strip-space elements="*"/><xsl:variable name="RelativeTypes" select="document('RelativeTypesTable.xml')"/><xsl:template name="RelativesAndAssociatesPrint"><xsl:param name="TitleType" select="'Field'"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="IdPrefix"/><xsl:param name="RelativesAndAssociates"/><xsl:param name="RootIdPrefix" select="'Section_'"/><xsl:param name="ShowSectionHeader" select="'Y'"/><xsl:param name="ShowSectionAttribValues" select="'N'"/><xsl:param name="ShowSubsectionIds" select="'N'"/><xsl:param name="TitleDelimiter" select="':'"/><xsl:variable name="HeaderDelimiter"><xsl:if test="normalize-space(concat($TitlePrefixPhrase,$BaseTitlePhrase))"><xsl:value-of select="$TitleDelimiter"/></xsl:if></xsl:variable><div class="MaxWidth DataContent RptDetail"><xsl:variable name="OutStdContainerValues"><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LeafContainerId" select="concat($RootIdPrefix,'Header')"/><xsl:with-param name="LeafContainerHeader" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,$HeaderDelimiter))"/><xsl:with-param name="ShowContainerHeader" select="$ShowSectionHeader"/><xsl:with-param name="TitleType" select="$TitleType"/><xsl:with-param name="LeafContainerTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="ShowAttribValues" select="$ShowSectionAttribValues"/><xsl:with-param name="AttribTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="LeafContainerElement" select="$RelativesAndAssociates"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutStdContainerValues))"><xsl:copy-of select="$OutStdContainerValues"/><xsl:value-of select="' '"/></xsl:if></div><xsl:text/><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:variable name="Relatives" select="$RelativesAndAssociates/Relatives"/><xsl:if test="count($Relatives/Relative)"><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'a'"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionIds"/><xsl:with-param name="ShowSeperatorNFlag" select="number(false())"/><xsl:with-param name="WrapperDataContent"><xsl:if test="count($Relatives/Relative)         or not(($Relatives/@DoNotKnow='True') or ($Relatives/@NotApplicable='True'))"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:for-each select="$Relatives/Relative"><xsl:call-template name="RelativesEntryPrint"><xsl:with-param name="SubsectionId" select="position()"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'b_',position(),'_')"/><xsl:with-param name="Relative" select="."/><xsl:with-param name="ShowSeperator" select="number(position()!=1)"/><xsl:with-param name="TitlePrefixPhrase" select="''"/><xsl:with-param name="BaseTitlePhrase" select="'Relative or Associate'"/><xsl:with-param name="ShowSubsectionId" select="'N'"/></xsl:call-template></xsl:for-each></tbody></table><xsl:text/></xsl:if></xsl:with-param></xsl:call-template><xsl:text/></xsl:if></tbody></table></xsl:template><xsl:template name="RelativesEntryPrint"><xsl:param name="SubsectionId"/><xsl:param name="IdPrefix"/><xsl:param name="Relative"/><xsl:param name="ShowSeperator"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="ShowSubsectionId"/><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="concat(substring('   ',1,4 - (2 * string-length($SubsectionId))),'#',$SubsectionId)"/><xsl:with-param name="ShowSubsectionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="$ShowSeperator"/><xsl:with-param name="SubsectionFormatClassList"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:variable name="RelativeType" select="$RelativeTypes/RelativeTypes/RelativeType[@Code=$Relative/@Type]"/><xsl:variable name="RelativeKeyType" select="$RelativeTypes/RelativeTypes/RelativeType[@Code=$Relative/@Type]/@KeyCode"/><xsl:variable name="RelativeTypeHeader"><xsl:choose><xsl:when test="string-length(normalize-space($RelativeType))"><xsl:attribute name="id"><xsl:value-of select="concat($IdPrefix,'Relative_Type')"/></xsl:attribute><xsl:attribute name="title"><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/></xsl:attribute><xsl:value-of select="normalize-space($RelativeType)"/><xsl:value-of select="' ('"/><xsl:call-template name="LeafFieldPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="FieldNameId" select="concat($IdPrefix,'Relative_Type_Key_Code')"/><xsl:with-param name="FieldNameTitle" select="'Relative Type Code'"/><xsl:with-param name="FieldElement" select="$RelativeKeyType"/><xsl:with-param name="ShowAttribValues" select="'N'"/><xsl:with-param name="ShowContentValue" select="'Y'"/></xsl:call-template><xsl:value-of select="') '"/></xsl:when><xsl:when test="not(string-length(normalize-space($Relative/@Type)))"><xsl:attribute name="title"><xsl:value-of select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/></xsl:attribute><xsl:value-of select="'Relative Type Code'"/></xsl:when><xsl:otherwise><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LeafContainerId" select="'Relative_Type'"/><xsl:with-param name="LeafContainerTitle" select="'Relative Type'"/><xsl:with-param name="LeafContainerHeader" select="$Relative/@Type"/><xsl:with-param name="TitleType" select="'Subsection'"/><xsl:with-param name="ShowAsUnexpectedValue" select="'Y'"/><xsl:with-param name="ShowAttribValues" select="'N'"/></xsl:call-template></xsl:otherwise></xsl:choose></xsl:variable><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Relative_')"/><xsl:with-param name="ContainerElement" select="$Relative"/><xsl:with-param name="WrapperHeaderContent"><xsl:copy-of select="$RelativeTypeHeader"/><xsl:if test="(($Relative/@DoNotKnow='True') or ($Relative/@NotApplicable='True'))"><xsl:value-of select="' '"/><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'_')"/><xsl:with-param name="LeafContainerId" select="concat($IdPrefix,'Relative_Header')"/><xsl:with-param name="ShowContainerHeader" select="'N'"/><xsl:with-param name="AttribTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,' Status'))"/><xsl:with-param name="LeafContainerElement" select="$Relative"/></xsl:call-template><xsl:value-of select="' '"/></xsl:if></xsl:with-param><xsl:with-param name="WrapperDataContent"><xsl:if test="not(normalize-space($RelativeType)) and normalize-space($Relative/@Type)         and not(($Relative/@DoNotKnow='True') or ($Relative/@NotApplicable='True'))         or normalize-space($Relative)"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'a.'"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionId"/><xsl:with-param name="ShowSeperatorNFlag" select="number(false())"/><xsl:with-param name="WrapperDataContent"><xsl:call-template name="RelativeInfoPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'a','_')"/><xsl:with-param name="Relative" select="$Relative"/><xsl:with-param name="SubsectionTitle" select="concat($TitlePrefixPhrase,' ',$BaseTitlePhrase, ' Former Spouse')"/></xsl:call-template></xsl:with-param></xsl:call-template><xsl:text/></tbody></table><xsl:text/></xsl:if></xsl:with-param></xsl:call-template><xsl:text/></tbody></table><xsl:text/></xsl:with-param></xsl:call-template></xsl:template><xsl:template name="RelativeInfoPrint"><xsl:param name="IdPrefix"/><xsl:param name="Relative"/><xsl:param name="SubsectionTitle"/><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="TabularNamePrint"><xsl:with-param name="BaseTitlePhrase" select="'Name'"/><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LegalName" select="$Relative/LegalName"/></xsl:call-template><xsl:text/><xsl:if test="not(count($Relative/Deceased))        or (count($Relative/Deceased) and $Relative/Deceased/Answer='No')       or count($Relative/Address)"><xsl:call-template name="AddressTabularPrint"><xsl:with-param name="TitlePrefixPhrase"/><xsl:with-param name="BaseTitlePhrase" select="'Address'"/><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="Address" select="$Relative/Address"/><xsl:with-param name="AllowDirections" select="'N'"/></xsl:call-template><xsl:text/></xsl:if><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'Deceased'"/><xsl:with-param name="FieldNameTitle" select="'Deceased'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Deceased_')"/><xsl:with-param name="FieldDataContent"><div class="MaxWidth RptDetail DataContent"><xsl:if test="count($Relative/Deceased/Answer)"><xsl:call-template name="OptionSelectionPrint"><xsl:with-param name="MouseOverTitle" select="'Deceased'"/><xsl:with-param name="ShownTitle"><xsl:value-of select="$Relative/Deceased/Answer"/></xsl:with-param></xsl:call-template></xsl:if></div></xsl:with-param></xsl:call-template><xsl:text/><xsl:if test="($Relative/@Type='SpouseLike') or count($Relative/SSN)"><xsl:call-template name="TabularSsnPrint"><xsl:with-param name="BaseTitlePhrase" select="'Social Security Number'"/><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="Ssn" select="$Relative/SSN"/><xsl:with-param name="ShowSectionHeader" select="'N'"/></xsl:call-template><xsl:text/></xsl:if><xsl:call-template name="TabularDatePrint"><xsl:with-param name="BaseTitlePhrase" select="'Birth Date'"/><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="Date" select="$Relative/Birth/Date"/><xsl:with-param name="Precision" select="'day'"/></xsl:call-template><xsl:text/><xsl:call-template name="TabularPlacePrint"><xsl:with-param name="BaseTitlePhrase" select="'Place of Birth'"/><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="Place" select="$Relative/Birth/Place"/><xsl:with-param name="AllowCounty" select="'N'"/></xsl:call-template><xsl:text/><xsl:call-template name="TelephoneDeviceTabularPrint"><xsl:with-param name="BaseTitlePhrase" select="'Phone'"/><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="TelephoneDevice" select="$Relative/Telephone"/><xsl:with-param name="ShowSectionHeader" select="'N'"/></xsl:call-template><xsl:text/></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'a1','_')"/><xsl:with-param name="ContainerElement" select="$Relative/Citizenship"/><xsl:with-param name="SubsectionHeader" select="'Citizenship'"/><xsl:with-param name="SubsectionTitle" select="'Citizenship'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/><xsl:with-param name="MustShowWrapperNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><xsl:if test="count($Relative/Citizenship) and count($Relative/Citizenship/Citizenships)"><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="CountriesFieldPrint"><xsl:with-param name="FieldNameHeader" select="'Country(ies) Of Citizenship'"/><xsl:with-param name="FieldNameTitle" select="'Country(ies) Of Citizenship'"/><xsl:with-param name="FieldEntryTitle" select="'Country Of Citizenship'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'a1','_','Citizenships_')"/><xsl:with-param name="Countries" select="$Relative/Citizenship/Citizenships"/></xsl:call-template><xsl:text/></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></xsl:if></xsl:with-param></xsl:call-template><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'a2','_')"/><xsl:with-param name="ContainerElement" select="$Relative/Citizenship"/><xsl:with-param name="SubsectionHeader" select="'Citizenship'"/><xsl:with-param name="SubsectionTitle" select="'Citizenship'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/><xsl:with-param name="MustShowWrapperNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><xsl:if test="not(count($Relative/Citizenship)) or count($Relative/Citizenship/USCitizen)"><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><xsl:call-template name="CitizenshipPrint"><xsl:with-param name="TitleType" select="'Field'"/><xsl:with-param name="BaseTitlePhrase" select="'Citizenship'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'a2','_')"/><xsl:with-param name="Citizenship" select="$Relative/Citizenship"/><xsl:with-param name="ShowSectionHeader" select="'N'"/><xsl:with-param name="ShowSubsectionIds" select="'Y'"/><xsl:with-param name="FormatType" select="'short'"/></xsl:call-template><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></xsl:if></xsl:with-param></xsl:call-template><tr><td colspan="2"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="TabularCommentsPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'x','_')"/><xsl:with-param name="Comment" select="$Relative/Comment"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/></xsl:call-template></tbody></table><xsl:text/></td></tr><xsl:text/></tbody></table><xsl:text/></xsl:template></xsl:stylesheet>