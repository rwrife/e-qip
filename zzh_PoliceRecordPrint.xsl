<?xml version="1.0" encoding="utf-8" standalone="no"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xt="http://www.jclark.com/xt"><xsl:strip-space elements="*"/><xsl:variable name="PoliceRecordQuestions" select="document('PoliceRecordQuestionTable.xml')"/><xsl:template name="PoliceRecordPrint"><xsl:param name="TitleType" select="'Field'"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="IdPrefix"/><xsl:param name="PoliceRecord"/><xsl:param name="RootIdPrefix" select="'Section_'"/><xsl:param name="ShowSectionHeader" select="'Y'"/><xsl:param name="ShowSectionAttribValues" select="'N'"/><xsl:param name="ShowSubsectionIds" select="'N'"/><xsl:param name="TitleDelimiter" select="':'"/><xsl:variable name="HeaderDelimiter"><xsl:if test="normalize-space(concat($TitlePrefixPhrase,$BaseTitlePhrase))"><xsl:value-of select="$TitleDelimiter"/></xsl:if></xsl:variable><div class="MaxWidth DataContent RptDetail"><xsl:variable name="OutStdContainerValues"><xsl:call-template name="LeafContainerPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="LeafContainerId" select="concat($RootIdPrefix,'Header')"/><xsl:with-param name="LeafContainerHeader" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,$HeaderDelimiter))"/><xsl:with-param name="ShowContainerHeader" select="$ShowSectionHeader"/><xsl:with-param name="TitleType" select="$TitleType"/><xsl:with-param name="LeafContainerTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="ShowAttribValues" select="$ShowSectionAttribValues"/><xsl:with-param name="AttribTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase))"/><xsl:with-param name="LeafContainerElement" select="$PoliceRecord"/></xsl:call-template></xsl:variable><xsl:if test="string-length(normalize-space($OutStdContainerValues))"><xsl:copy-of select="$OutStdContainerValues"/><xsl:value-of select="' '"/></xsl:if></div><xsl:text/><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'A.'"/><xsl:with-param name="ShowSubsectionId" select="'N'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(false())"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="SubsectionHeader" select="'Questions'"/><xsl:with-param name="ContainerElement" select="$PoliceRecord"/><xsl:with-param name="MustShowWrapperNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><xsl:variable name="QuestionEntryTitle" select="normalize-space(concat($TitlePrefixPhrase,' ',$BaseTitlePhrase,' Question'))"/><xsl:variable name="PoliceRecordQuestionsLookUpPath" select="$PoliceRecordQuestions/PoliceRecordQuestions/Question"/><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="QuestionTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="QuestionEntryTagName" select="'FelonyOffense'"/><xsl:with-param name="QuestionEntryLookUpValue" select="$PoliceRecordQuestionsLookUpPath[@Code='FelonyOffense']"/><xsl:with-param name="QuestionEntryTitle" select="$QuestionEntryTitle"/><xsl:with-param name="QuestionDataElement" select="$PoliceRecord/FelonyOffense"/><xsl:with-param name="QuestionId" select="'a'"/><xsl:with-param name="AllowComment" select="'Y'"/><xsl:with-param name="ShowQuestionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(false())"/></xsl:call-template><xsl:call-template name="QuestionTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="QuestionEntryTagName" select="'FirearmOffense'"/><xsl:with-param name="QuestionEntryLookUpValue" select="$PoliceRecordQuestionsLookUpPath[@Code='FirearmOffense']"/><xsl:with-param name="QuestionEntryTitle" select="$QuestionEntryTitle"/><xsl:with-param name="QuestionDataElement" select="$PoliceRecord/FirearmOffense"/><xsl:with-param name="QuestionId" select="'b'"/><xsl:with-param name="AllowComment" select="'Y'"/><xsl:with-param name="ShowQuestionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/></xsl:call-template><xsl:call-template name="QuestionTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="QuestionEntryTagName" select="'CriminalOffense'"/><xsl:with-param name="QuestionEntryLookUpValue" select="$PoliceRecordQuestionsLookUpPath[@Code='CriminalOffense']"/><xsl:with-param name="QuestionEntryTitle" select="$QuestionEntryTitle"/><xsl:with-param name="QuestionDataElement" select="$PoliceRecord/CriminalOffense"/><xsl:with-param name="QuestionId" select="'c'"/><xsl:with-param name="AllowComment" select="'Y'"/><xsl:with-param name="ShowQuestionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/></xsl:call-template><xsl:call-template name="QuestionTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="QuestionEntryTagName" select="'DrugOffense'"/><xsl:with-param name="QuestionEntryLookUpValue" select="$PoliceRecordQuestionsLookUpPath[@Code='DrugOffense']"/><xsl:with-param name="QuestionEntryTitle" select="$QuestionEntryTitle"/><xsl:with-param name="QuestionDataElement" select="$PoliceRecord/DrugOffense"/><xsl:with-param name="QuestionId" select="'d'"/><xsl:with-param name="AllowComment" select="'Y'"/><xsl:with-param name="ShowQuestionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/></xsl:call-template><xsl:call-template name="QuestionTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="QuestionEntryTagName" select="'MilitaryOffense'"/><xsl:with-param name="QuestionEntryLookUpValue" select="$PoliceRecordQuestionsLookUpPath[@Code='MilitaryOffense']"/><xsl:with-param name="QuestionEntryTitle" select="$QuestionEntryTitle"/><xsl:with-param name="QuestionDataElement" select="$PoliceRecord/MilitaryOffense"/><xsl:with-param name="QuestionId" select="'e'"/><xsl:with-param name="AllowComment" select="'Y'"/><xsl:with-param name="ShowQuestionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/></xsl:call-template><xsl:call-template name="QuestionTabularPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'A_')"/><xsl:with-param name="QuestionEntryTagName" select="'OtherOffense'"/><xsl:with-param name="QuestionEntryLookUpValue" select="$PoliceRecordQuestionsLookUpPath[@Code='OtherOffense']"/><xsl:with-param name="QuestionEntryTitle" select="$QuestionEntryTitle"/><xsl:with-param name="QuestionDataElement" select="$PoliceRecord/OtherOffense"/><xsl:with-param name="QuestionId" select="'f'"/><xsl:with-param name="AllowComment" select="'Y'"/><xsl:with-param name="ShowQuestionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/></xsl:call-template></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:variable name="ChargesFragment"><xsl:choose><xsl:when test="count($PoliceRecord/Charges) and count($PoliceRecord/Charges/Charge)"><xsl:copy-of select="$PoliceRecord/Charges"/></xsl:when><xsl:when test="normalize-space($PoliceRecord//Answer[.='Yes'])"><Charges><Charge/></Charges></xsl:when><xsl:otherwise/></xsl:choose></xsl:variable><xsl:if test="count(xt:node-set($ChargesFragment)/*)"><xsl:variable name="Charges" select="xt:node-set($ChargesFragment)/Charges"/><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'B.'"/><xsl:with-param name="ShowSubsectionId" select="'N'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'B_')"/><xsl:with-param name="SubsectionHeader" select="'Charges'"/><xsl:with-param name="ContainerElement" select="$Charges"/><xsl:with-param name="WrapperDataContent"><xsl:if test="count($Charges/Charge)           or not(($Charges/@DoNotKnow='True') or ($Charges/@NotApplicable='True'))"><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:for-each select="$Charges/Charge"><xsl:call-template name="ChargesEntryPrint"><xsl:with-param name="SubsectionId" select="position()"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'B_',position(),'_')"/><xsl:with-param name="Charge" select="."/><xsl:with-param name="ShowSeperator" select="number(position()!=1)"/><xsl:with-param name="TitlePrefixPhrase" select="$TitlePrefixPhrase"/><xsl:with-param name="BaseTitlePhrase" select="$BaseTitlePhrase"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionIds"/></xsl:call-template></xsl:for-each></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></xsl:if></xsl:with-param></xsl:call-template><xsl:text/></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></xsl:if></tbody></table></xsl:template><xsl:template name="ChargesEntryPrint"><xsl:param name="SubsectionId"/><xsl:param name="IdPrefix"/><xsl:param name="Charge"/><xsl:param name="ShowSeperator"/><xsl:param name="TitlePrefixPhrase"/><xsl:param name="BaseTitlePhrase"/><xsl:param name="ShowSubsectionId"/><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="concat(substring('   ',1,4 - (2 * string-length($SubsectionId))),'#',$SubsectionId)"/><xsl:with-param name="ShowSubsectionId" select="'Y'"/><xsl:with-param name="ShowSeperatorNFlag" select="$ShowSeperator"/><xsl:with-param name="SubsectionFormatClassList"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'a.'"/><xsl:with-param name="ShowSubsectionId" select="$ShowSubsectionId"/><xsl:with-param name="ShowSeperatorNFlag" select="number(false())"/><xsl:with-param name="WrapperDataContent"><xsl:call-template name="ChargeInfoPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'a','_')"/><xsl:with-param name="Charge" select="$Charge"/><xsl:with-param name="SubsectionTitle" select="concat($TitlePrefixPhrase,' ',$BaseTitlePhrase, ' Charge')"/></xsl:call-template></xsl:with-param></xsl:call-template></tbody></table></xsl:with-param></xsl:call-template></xsl:template><xsl:template name="ChargeInfoPrint"><xsl:param name="IdPrefix"/><xsl:param name="Charge"/><xsl:param name="SubsectionTitle"/><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="TabularDatePrint"><xsl:with-param name="BaseTitlePhrase" select="'Date Charged'"/><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="Date" select="$Charge/DateCharged/Date"/><xsl:with-param name="Precision" select="'month'"/></xsl:call-template><xsl:text/><xsl:call-template name="ChargeTypePrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Charge_Type_')"/><xsl:with-param name="Charge" select="$Charge"/><xsl:with-param name="SubsectionHeader" select="'Offense Classification'"/><xsl:with-param name="SubsectionTitle" select="'Offense Classification'"/></xsl:call-template><xsl:text/><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'Offense'"/><xsl:with-param name="FieldNameTitle" select="'Offense'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Offense_')"/><xsl:with-param name="FieldElement" select="$Charge/Offense"/></xsl:call-template><xsl:text/><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'Action Taken'"/><xsl:with-param name="FieldNameTitle" select="'Action Taken'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Action_Taken_')"/><xsl:with-param name="FieldElement" select="$Charge/ActionTaken"/></xsl:call-template><xsl:text/><xsl:call-template name="AuthorityInfoTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Charge','_')"/><xsl:with-param name="Authority" select="$Charge/Authority"/><xsl:with-param name="SubsectionHeader" select="'Law Enforcement Authority/Court'"/><xsl:with-param name="SubsectionTitle" select="'Law Enforcement Authority/Court'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/></xsl:call-template><xsl:text/></tbody></table><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="SubsectionTabularWrapperPrint"><xsl:with-param name="SubsectionId" select="'a.'"/><xsl:with-param name="ShowSubsectionId" select="'N'"/><xsl:with-param name="ShowSeperatorNFlag" select="number(true())"/><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:call-template name="TabularCommentsPrint"><xsl:with-param name="IdPrefix" select="$IdPrefix"/><xsl:with-param name="Comment" select="$Charge/Comment"/><xsl:with-param name="TitlePrefixPhrase" select="''"/><xsl:with-param name="BaseTitlePhrase" select="'Additional Comments'"/></xsl:call-template><xsl:text/></tbody></table><xsl:text/></xsl:with-param></xsl:call-template><xsl:text/></tbody></table></xsl:template><xsl:template name="AuthorityInfoTabularWrapperPrint"><xsl:param name="IdPrefix"/><xsl:param name="Authority"/><xsl:param name="SubsectionHeader"/><xsl:param name="SubsectionTitle"/><xsl:param name="ShowSeperatorNFlag" select="number(false())"/><xsl:param name="WrapperHeaderContent"/><xsl:param name="WrapperDataContent"/><xsl:param name="AllowCounty" select="'N'"/><xsl:call-template name="SubsectionTitleAndStatusTabularWrapperPrint"><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Authority_')"/><xsl:with-param name="ContainerElement" select="$Authority"/><xsl:with-param name="SubsectionHeader" select="$SubsectionHeader"/><xsl:with-param name="ShowSeperatorNFlag" select="$ShowSeperatorNFlag"/><xsl:with-param name="MustShowWrapperNFlag" select="number(true())"/><xsl:with-param name="WrapperHeaderContent"><xsl:copy-of select="$WrapperHeaderContent"/></xsl:with-param><xsl:with-param name="SubsectionTitle" select="$SubsectionTitle"/><xsl:with-param name="WrapperDataContent"><xsl:call-template name="DataIndentWrapperPrint"><xsl:with-param name="WrapperDataContent"><table cellpadding="0" cellspacing="0" class="MaxWidth RptDetail"><tbody><xsl:if test="$WrapperDataContent"><xsl:copy-of select="$WrapperDataContent"/></xsl:if><xsl:value-of select="' '"/><xsl:variable name="CourtHeader" select="'Court'"/><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="TitleType" select="'Field'"/><xsl:with-param name="FieldNameHeader" select="normalize-space($CourtHeader)"/><xsl:with-param name="FieldNameTitle" select="normalize-space($CourtHeader)"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Authority_Court_')"/><xsl:with-param name="FieldElement" select="$Authority/Court"/></xsl:call-template><xsl:text/><xsl:variable name="PlaceTitle" select="'Address'"/><xsl:call-template name="AddressTabularPrint"><xsl:with-param name="BaseTitlePhrase" select="'Address'"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Authority_')"/><xsl:with-param name="Address" select="$Authority/Address"/><xsl:with-param name="AllowDirections" select="'N'"/><xsl:with-param name="AllowCounty" select="$AllowCounty"/></xsl:call-template><xsl:text/></tbody></table></xsl:with-param></xsl:call-template><xsl:text/></xsl:with-param></xsl:call-template></xsl:template><xsl:template name="ChargeTypePrint"><xsl:param name="IdPrefix"/><xsl:param name="Charge"/><xsl:param name="SubsectionHeader"/><xsl:param name="SubsectionTitle"/><xsl:call-template name="TitledLeafFieldTabularPrint"><xsl:with-param name="FieldNameHeader" select="'Current Status'"/><xsl:with-param name="FieldNameTitle" select="concat('Current Status')"/><xsl:with-param name="IdPrefix" select="concat($IdPrefix,'Status_')"/><xsl:with-param name="FieldDataContent"><div class="MaxWidth DataContent RptDetail"><xsl:if test="$Charge/@FelonyOffense='True'"><xsl:value-of select="' '"/><xsl:call-template name="OptionSelectionPrint"><xsl:with-param name="MouseOverTitle" select="$SubsectionTitle"/><xsl:with-param name="ShownTitle"><xsl:value-of select="'Felony Offense'"/></xsl:with-param></xsl:call-template></xsl:if><xsl:if test="$Charge/@FirearmOffense='True'"><xsl:value-of select="' '"/><xsl:call-template name="OptionSelectionPrint"><xsl:with-param name="MouseOverTitle" select="$SubsectionTitle"/><xsl:with-param name="ShownTitle"><xsl:value-of select="'Firearm Offense'"/></xsl:with-param></xsl:call-template></xsl:if><xsl:if test="$Charge/@CriminalOffense='True'"><xsl:value-of select="' '"/><xsl:call-template name="OptionSelectionPrint"><xsl:with-param name="MouseOverTitle" select="$SubsectionTitle"/><xsl:with-param name="ShownTitle"><xsl:value-of select="'Criminal Offense'"/></xsl:with-param></xsl:call-template></xsl:if><xsl:if test="$Charge/@DrugOffense='True'"><xsl:value-of select="' '"/><xsl:call-template name="OptionSelectionPrint"><xsl:with-param name="MouseOverTitle" select="$SubsectionTitle"/><xsl:with-param name="ShownTitle"><xsl:value-of select="'Drug Offense'"/></xsl:with-param></xsl:call-template></xsl:if><xsl:if test="$Charge/@MilitaryOffense='True'"><xsl:value-of select="' '"/><xsl:call-template name="OptionSelectionPrint"><xsl:with-param name="MouseOverTitle" select="$SubsectionTitle"/><xsl:with-param name="ShownTitle"><xsl:value-of select="'Military Offense'"/></xsl:with-param></xsl:call-template></xsl:if><xsl:if test="$Charge/@OtherOffense='True'"><xsl:value-of select="' '"/><xsl:call-template name="OptionSelectionPrint"><xsl:with-param name="MouseOverTitle" select="$SubsectionTitle"/><xsl:with-param name="ShownTitle"><xsl:value-of select="'Other Offense'"/></xsl:with-param></xsl:call-template></xsl:if></div></xsl:with-param></xsl:call-template><xsl:text/></xsl:template></xsl:stylesheet>